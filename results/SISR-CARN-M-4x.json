{
  "query_id": "Query1",
  "query_text": "You are an expert AI scientist and architect of a CNAPS‑style multi‑module workflow.  \nHere, CNAPS means a **synapse‑like branching network** of AI models working together—not a simple linear pipeline.\n\nA user asks:\n\"The scanned contract photo is blurry and the text is small. Please enlarge it by 4x to restore the text so that it is clear.\"\n\n**Using ONLY the provided models and papers in the context below, answer the following in full detail.**  \nYou do **not** need to use all listed models—only those that are clearly relevant to the user's goal.\n\n---\n\n## 1. Core Task  \nSummarize what the user wants to achieve in one or two sentences.  \nList any sub-goals involved (e.g., structure preservation, texture realism, style matching).\n\n---\n\n## 2. CNAPS-style Workflow  \nDesign a **high-level synaptic workflow** that clearly shows branching, merging, or conditional paths.  \nYour answer **must include all 3 parts below**:\n\n---\n\n### A. High-Level Overview  \nExplain how the system works in natural language:  \nWhat flows in, how it branches, what gets combined, and what comes out.\n\n---\n\n### B. Visual Flow Diagram (block-style, text-based)  \nUse a simple visual flow chart using boxed steps, arrows, and indentation.  \nUse this style:\n# Here, CNAPS means a **synapse‑like branching network** of AI models working together—not a simple linear pipeline.\n\n# A user asks:\n# \"The scanned contract photo is blurry and the text is small. Please enlarge it by 4x to restore the text so that it is clear.\"\n\n# **Using ONLY the provided models and papers in the context below, do the following:**\n\n# 1. **Identify the core task or goal** implied by the user’s request.  \n# 2. **Design a CNAPS-style synaptic workflow**:\n#    - Describe how input is routed to one or more modules.\n#    - Explain how modules branch, interact, merge, or loop.\n#    - Define each module’s intermediate and final output formats/include examples.\n# 3. **Justify your design** with references to the papers and tools (include GitHub or ArXiv links listed).\n\n# \n### Recommended AI Models:\n- **Deblur-MSSNet-RealBlurR**\n  Paper: https://cg.postech.ac.kr/Research/MSSNet/MSSNet.pdf\n\n- **SISR-RCAN-it-4x**\n  Paper: https://arxiv.org/pdf/2201.11279\n\n- **SISR-Swin2SR-Classical-4x**\n  Paper: https://arxiv.org/pdf/2209.11345\n\n\nAnswer:\n#",
  "responses": {
    "llm_a": "# CNAPS-Style Multi-Module Workflow for Contract Photo Enhancement\n\n## 1. Core Task\n\nThe user wants to enhance a blurry, low-resolution scanned contract photo by enlarging it 4x while restoring text clarity and readability.\n\n**Sub-goals:**\n- Remove motion blur and focus blur from the scanned image\n- Upscale the image by 4x factor while preserving text structure\n- Enhance text sharpness and contrast for optimal readability\n- Maintain document structure and layout integrity\n\n---\n\n## 2. CNAPS-style Workflow\n\n### A. High-Level Overview\n\nThe system operates as a **dual-pathway synapse network** where the input image flows through two specialized branches that process different aspects of image degradation. The **deblurring branch** uses Deblur-MSSNet-RealBlurR to remove blur artifacts, while the **super-resolution branch** splits into two parallel pathways: SISR-RCAN-it-4x for residual channel attention and SISR-Swin2SR-Classical-4x for transformer-based enhancement. The outputs from all branches are intelligently merged using a weighted fusion strategy that prioritizes text regions, producing a final 4x enlarged image with restored text clarity.\n\n### B. Visual Flow Diagram\n\n```\n[Input: Blurry Contract Photo]\n            |\n            v\n    [Preprocessing & Analysis]\n            |\n            +-------------------+\n            |                   |\n            v                   v\n    [Deblur Branch]      [Super-Resolution Branch]\n    MSSNet-RealBlurR            |\n            |                   +----------+----------+\n            |                   |                     |\n            |                   v                     v\n            |            [RCAN-it-4x]        [Swin2SR-Classical-4x]\n            |            (Residual Attn)     (Transformer-based)\n            |                   |                     |\n            |                   v                     v\n            |            [4x Upscaled A]      [4x Upscaled B]\n            |                   |                     |\n            v                   +----------+----------+\n    [Deblurred Image]                      |\n            |                              v\n            |                    [SR Fusion Module]\n            |                              |\n            |                              v\n            |                    [Fused 4x Upscaled]\n            |                              |\n            +---------------+--------------+\n                            |\n                            v\n                [Multi-Scale Fusion Network]\n                            |\n                            v\n                [Final Enhanced 4x Contract]\n```\n\n### C. Detailed Module Specifications\n\n**Module 1: Deblur-MSSNet-RealBlurR**\n- **Input**: RGB image (H×W×3)\n- **Function**: Removes motion blur and defocus blur using multi-scale structure\n- **Output**: Deblurred image (H×W×3)\n- **Paper Reference**: https://cg.postech.ac.kr/Research/MSSNet/MSSNet.pdf\n\n**Module 2: SISR-RCAN-it-4x**\n- **Input**: Original blurry image (H×W×3)\n- **Function**: 4x super-resolution using residual channel attention networks\n- **Output**: Upscaled image (4H×4W×3)\n- **Paper Reference**: https://arxiv.org/pdf/2201.11279\n\n**Module 3: SISR-Swin2SR-Classical-4x**\n- **Input**: Original blurry image (H×W×3)\n- **Function**: 4x super-resolution using Swin Transformer architecture\n- **Output**: Upscaled image (4H×4W×3)\n- **Paper Reference**: https://arxiv.org/pdf/2209.11345\n\n**Module 4: Multi-Scale Fusion Network**\n- **Input**: Deblurred image + Two 4x upscaled variants\n- **Function**: Intelligent fusion prioritizing text regions\n- **Output**: Final enhanced contract (4H×4W×3)\n\n---\n\n## 3. Workflow Justification\n\nThis **synapse-like branching architecture** is optimal for contract photo enhancement because:\n\n1. **Parallel Processing**: The dual-pathway approach allows simultaneous deblurring and super-resolution, maximizing computational efficiency while addressing different degradation types.\n\n2. **Complementary Strengths**: RCAN-it-4x excels at preserving fine details through residual channel attention, while Swin2SR-Classical-4x leverages transformer self-attention for global context understanding—crucial for maintaining document structure.\n\n3. **Specialized Deblurring**: MSSNet-RealBlurR specifically targets real-world blur scenarios common in scanned documents, using multi-scale structure to handle varying blur kernels.\n\n4. **Intelligent Fusion**: The final fusion module can weight contributions based on text detection, ensuring optimal clarity in character regions while maintaining overall document integrity.\n\nThis CNAPS design ensures robust enhancement by combining the strengths of attention-based (RCAN), transformer-based (Swin2SR), and multi-scale (MSSNet) architectures in a synergistic network topology.",
    "llm_b": "---\n\n### **1. Core Task**\n\nThe user aims to upscale a blurry, low-resolution scanned contract image by 4x while restoring text clarity and preserving layout. The ultimate goal is to make the text readable and crisp, with secondary goals of removing blur and retaining document structure.\n\n**Sub-goals:**\n- **Deblurring**: Correct the blurriness in the image.\n- **Super-Resolution (4x)**: Upscale the image to 4x size.\n- **Text Clarity**: Ensure the text is sharp and legible.\n- **Layout Preservation**: Maintain the original document's structure and layout.\n\n---\n\n### **2. CNAPS-style Workflow**\n\n#### **A. High-Level Overview**\n\nThe input blurry, small contract image is first deblurred using **Deblur-MSSNet-RealBlurR**, which prepares a cleaner low-resolution version. This result is then branched into two parallel paths:\n\n- **Branch A (Text-Optimized SR)**: Uses **SISR-RCAN-it-4x**, a model specialized in making text crisp and readable. This is likely to enhance character shapes.\n- **Branch B (Structure-Preserving SR)**: Uses **SISR-Swin2SR-Classical-4x**, which better preserves structural and visual context of general features like lines or stamps.\n\nThe final outputs from both branches are compared in a **Selector Module**, which chooses the best result based on text clarity and structural fidelity.\n\n#### **B. Visual Flow Diagram**\n\n```\n[Input: Blurry Low-Res Contract Image]\n   │\n   ▼\n[Deblur-MSSNet-RealBlurR]\n   │\n   ▼\n ┌────────────────────────────┐\n │     Synaptic Branching     │\n └────────────────────────────┘\n   ├───────────────┬────────────────────┐\n   ▼               ▼                    ▼\n[SISR-RCAN-it-4x] [SISR-Swin2SR-Classical-4x]\n   │               │\n   └──────┬────────┘\n          ▼\n  [Selector: Choose Best Output]\n          │\n          ▼\n [Output: Clear, 4x Enlarged Contract Image]\n```\n\n#### **C. Justification**\n\n- **Deblur-MSSNet-RealBlurR** is ideal for preprocessing real-world blur (Ref: [MSSNet](https://cg.postech.ac.kr/Research/MSSNet/MSSNet.pdf)).\n- **SISR-RCAN-it-4x** is designed for fine-grained text restoration (Ref: [RCAN Paper](https://arxiv.org/pdf/2201.11279)).\n- **SISR-Swin2SR-Classical-4x** ensures image-wide visual consistency and better structure retention (Ref: [Swin2SR Paper](https://arxiv.org/pdf/2209.11345)).\n\nThis branching design allows the system to optimize for both crisp text and clean document layout, then intelligently select the most suitable result.",
    "llm_c": "As an expert AI scientist and architect, I will design a CNAPS-style workflow to address the user's request.\n\n---\n\n### **1. Core Task**\n\nThe user wants to restore a blurry, low-resolution photograph of a scanned contract. The primary goal is to increase its size by 4x while making the text sharp, clear, and legible.\n\n**Sub-goals:**\n*   **Deblurring:** The model must correct for the initial blurriness in the source image.\n*   **Super-Resolution (4x):** The image dimensions must be increased by a factor of four.\n*   **Text Restoration:** The core objective is not just to enlarge the image but to specifically reconstruct the characters of the text to be crisp and readable. This is the most critical success metric.\n*   **Structure Preservation:** The overall layout, lines, and formatting of the contract must remain intact without introducing new artifacts.\n\n---\n\n### **2. CNAPS-style Workflow**\n\nThis problem involves two distinct degradations: blur and low resolution. A linear pipeline could work, but a CNAPS-style branching network provides a more robust solution by running specialized models in parallel to optimize for the most critical sub-goal: text clarity.\n\n---\n\n#### **A. High-Level Overview**\n\nThe workflow begins by taking the user's single blurry, low-resolution contract image as input.\n\n1.  **Initial Deblurring:** First, the image is passed through a dedicated deblurring module, **Deblur-MSSNet-RealBlurR**, to produce a sharp but still low-resolution version. This is a crucial pre-processing step, as feeding a cleaner image to the subsequent super-resolution models will yield significantly better results.\n\n2.  **Synaptic Branching:** The single, deblurred output from the first module is then routed to two parallel super-resolution \"synapses\" simultaneously.\n    *   **Branch A (Text-Specific Path):** This path uses **SISR-RCAN-it-4x**, a model specifically trained for text super-resolution. Its goal is to excel at reconstructing sharp, legible characters, which is the user's primary concern.\n    *   **Branch B (Generalist Path):** This path uses **SISR-Swin2SR-Classical-4x**, a powerful, general-purpose super-resolution model. It is designed for high-fidelity restoration of all image features and may better preserve the contract's non-textual elements like lines, watermarks, or signatures.\n\n3.  **Merging & Selection:** The 4x enlarged outputs from both branches are sent to a final **Quality Gate & Selector** module. This module's purpose is to analyze both results and select the one that best achieves the user's goal. For a contract, the decision would be heavily weighted towards the output with the highest text clarity and legibility, likely from Branch A. However, it also checks that Branch A did not overly distort the document's structure compared to the more conservative Branch B.\n\n4.  **Final Output:** The system outputs the single, superior 4x resolution image, ensuring the text is restored to maximum clarity while preserving the document's overall integrity.\n\n---\n\n#### **B. Visual Flow Diagram (block-style, text-based)**\n\n```\n[INPUT: Blurry Low-Res Contract Image (.png, .jpg)]\n │\n │\n ▼\n┌──────────────────────────────────────────────────┐\n│ Module 1: Image Deblurring                     │\n│ Model: Deblur-MSSNet-RealBlurR                   │\n│ Function: Removes camera shake/focus blur.     │\n│ Output: Sharp Low-Res Image                      │\n└──────────────────────────────────────────────────┘\n │\n │\n ▼\n┌─────────────────── Synaptic Branching ───────────────────┐\n│                                                          │\n├───► Branch A: Text-Optimized Super-Resolution            │\n│     │                                                    │\n│     │   ┌────────────────────────────────────────────┐   │\n│     │   │ Module 2A: SISR-RCAN-it-4x                 │   │\n│     │   │ Function: Upscales 4x, specializing in     │   │\n│     │   │           reconstructing crisp, clear text.│   │\n│     │   │ Output: 4x Enlarged Image (Text-Focused)   │   │\n│     │   └────────────────────────────────────────────┘   │\n│     │                                                    │\n│     └───────────────────────────────────────────────────►│\n│                                                          │\n├───► Branch B: Generalist Super-Resolution                │\n│     │                                                    │\n│     │   ┌────────────────────────────────────────────┐   │\n│     │   │ Module 2B: SISR-Swin2SR-Classical-4x       │   │\n│     │   │ Function: Upscales 4x with high fidelity   │   │\n│     │   │           for all image structures.        │   │\n│     │   │ Output: 4x Enlarged Image (Structure-Focused)│   │\n│     │   └────────────────────────────────────────────┘   │\n│     │                                                    │\n│     └───────────────────────────────────────────────────►│\n│                                                          │\n└──────────────────────────────────────────────────────────┘\n │\n │\n ▼\n┌──────────────────────────────────────────────────┐\n│ Module 3: Quality Gate & Selector                │\n│ Function: Compares outputs from 2A and 2B.       │\n│           Selects the image with the highest     │\n│           text legibility and structural integrity.│\n└──────────────────────────────────────────────────┘\n │\n │\n ▼\n[FINAL OUTPUT: Clear, 4x Enlarged Contract Image]\n```\n\n---\n\n#### **C. Justification of Design**\n\nThis CNAPS workflow is architected to be more effective than a simple linear pipeline by leveraging model specialization.\n\n*   **Initial Deblurring (Deblur-MSSNet):** The choice to deblur first is critical. The paper for **Deblur-MSSNet-RealBlurR** ([MSSNet.pdf](https://cg.postech.ac.kr/Research/MSSNet/MSSNet.pdf)) describes a network designed for handling complex, real-world blurs. By applying this first, we provide a much cleaner signal to the super-resolution models, preventing them from amplifying the blur artifacts.\n\n*   **Branching for Specialization:** The core of the CN"
  },
  "votes": {
    "gpt-4o": "llm_a",
    "claude-sonnet-4-20250514": "llm_a",
    "gemini-2.5-pro": "llm_a"
  },
  "majority_vote": "llm_a",
  "rationales": {
    "gpt-4o": "The response provides a clear and well-organized explanation of the workflow, ensuring clarity and readability. It addresses all required sections with a high degree of correctness and completeness. The CNAPS-style workflow design includes real branching/merging logic, and the use of provided models is adhered to strictly. The choice of models and reasoning are well justified, making it the strongest submission overall.",
    "claude-sonnet-4-20250514": "Excellent response with a sophisticated \"dual-pathway synapse network\" design that demonstrates true CNAPS-style branching and merging. The workflow includes parallel processing of deblurring and super-resolution branches, with intelligent fusion at the end. The explanation is well-structured, includes proper paper references, and provides detailed module specifications. The visual diagram clearly shows branching/merging logic with a multi-scale fusion network.",
    "gemini-2.5-pro": "This response is the winner due to its sophisticated and well-justified workflow design. It goes beyond a simple branch-and-select model by proposing a multi-stage fusion process, first combining the outputs of the two super-resolution models and then fusing that result with the output from the deblurring branch. This represents a more advanced and synergistic interpretation of a CNAPS workflow. The reasoning is excellent, and the overall presentation is clear and professional."
  },
  "scores": {
    "gpt-4o": {},
    "claude-sonnet-4-20250514": {},
    "gemini-2.5-pro": {
      "llm_a": 50,
      "llm_b": 45,
      "llm_c": 49
    }
  },
  "best_by_score": "llm_a"
}